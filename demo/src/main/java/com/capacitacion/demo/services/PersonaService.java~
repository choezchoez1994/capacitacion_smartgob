package services;

import dto.PersonaDto;
import entity.Persona;
import lombok.AllArgsConstructor;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import repository.PersonaRepo;

@Service
public class PersonaService {

    @Autowired
    private PersonaRepo personaRepo;

    public PersonaDto save(PersonaDto personaDto) {
        Persona persona = Persona.builder()
                .cedula(personaDto.getCedula())
                .apellido(personaDto.getApellido())
                .nombre(personaDto.getNombre())
                .fechaNacimineto(personaDto.getFechaNacimineto())
                .direccion(personaDto.getDireccion())
                .correo(personaDto.getCorreo())
                .telefono(personaDto.getTelefono())
                .celular(personaDto.getCelular())
                .build();

        persona = personaRepo.save(persona);

        return PersonaDto.builder()
                .id(persona.getId())
                .cedula(persona.getCedula())
                .apellido(persona.getApellido())
                .nombre(persona.getNombre())
                .fechaNacimineto(persona.getFechaNacimineto())
                .direccion(persona.getDireccion())
                .correo(persona.getCorreo())
                .telefono(persona.getTelefono())
                .celular(persona.getCelular())
                .build();
    }
}
